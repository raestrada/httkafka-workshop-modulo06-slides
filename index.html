<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					<script type="text/template">
						# Workshop Kafka

						> Arquitecturas dirigidas a eventos usando Kafka

						#### **MÓDULO 6:** EDA y Kafka (orientado a MS)
					</script>
				</section>

				<section>
					<section data-markdown data-background-size="contain" data-background-image="https://media.giphy.com/media/3o6ZtirIotBE5zqDtu/giphy.gif">
						<script type="text/template">	
						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						
						> Kafka implementa literalmente los conceptos de un EDA. Diferenciemos otros conceptos de alto
						nivel que podrían ser implementados con Kafka, pero no es un EDA.
							
						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						### Event Sourcing

						Event Sourcing hace referencia a sistemas donde el estado de la aplicación completa es
						almacenado como una secuencia de eventos. Aquí, el termino evento se refiere al
						“cambio de estado”, no es solamente una “notificación”.
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
						Event-sourcing es un concepto de más alto nivel y más especializado que EDA y Kafka. Ha
						tenido furor con los DDD, pero existe como concepto desde hace tiempo, por ejemplo, en los
						Data Warehouse. 

						> Sus usos pueden ser: estado de la aplicación, revertir eventos, actualizaciones/consultas/interacciones
						externas, control de cambios

						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
						El componente principal de event sourcing es el event-store. Kafka puede ser usado como un
						event-store. En general, como hemos visto, los streams de EDA resuelve varios de los casos de
						uso del event sourcing a través de las particiones. Más adelante vamos a ver las transacciones
						que lo complementan aún  más.

						> En EDA el event-sourcing está en el contexto de una aplicación o micro-servicio. Usar Kafka sólo
						para implementar en ese contexto, no tiene mucho sentido. [Apache bookkeeper](https://bookkeeper.apache.org/) es una mejor solución
						para un event-store 

						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						### CQRS

						Command Query Responsability Segregation (CQRS) es un patrón por el cual se tienen estructuras
						de datos separadas para leer y escribir información. CQRS no tiene que ver estrictamente con eventos,
						ya que se puede implementar sin hacer uso de ellos, pero es bastante común que se combine CQRS con
						Event Sourcing.
							
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
						> CQRS no es "event-first" y es un anti-patrón en una arquitectura EDA.

						CQRS puede ser implementado con Kafka si se usan event-commands y Kafka como
						event store. En mi opinión, esto viola el principio EDA y el uso pensado para KAfka.
							
						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						### EDA Y Kafka son "Event-First"

						> Un elemento clave de la notificación de eventos es que al sistema de origen no le importa mucho
						la respuesta. A menudo no espera ninguna respuesta, o si hay una respuesta que le importa a la 
						fuente, es indirecta. - _Martin Faowler_
						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						- **Event-First:** Entro en una habitación, genero un evento de "habitación entrada" y la 
						luz se enciende. Esta es una reacción a un evento.

						- **Event-Command:** Entro en una habitación, enciendo el interruptor de la luz y la luz se enciende.
						Este es un comando.
						</script>
					</section>
				</section>

			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
